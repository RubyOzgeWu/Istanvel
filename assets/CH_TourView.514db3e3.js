import{Q as y}from"./QImg.60e24f77.js";import{y as g,A as m,r as n,k as b,l as Q,n as a,f as s,C as r,a$ as d,aV as h,b1 as w,aS as x,aT as T,aU as I,aW as p,G as S,J as U,Q as _,K as q}from"./index.b7f7735e.js";import{Q as k,a as B}from"./QPopupProxy.6fe5a970.js";import{Q as D}from"./QForm.539f6b59.js";import{C as L}from"./ClosePopup.812ae4ae.js";import"./use-cache.b0833c75.js";import"./QMenu.029a38c4.js";import"./selection.33448140.js";const N={class:"q-pa-md",id:"TourView"},P={class:"banner"},R={class:"absolute-full text-subtitle2 flex column flex-center"},j={class:"row"},M={class:"col-9"},A={class:"col-3"},E={class:"row items-center justify-end"},F=q("\u8A02\u8CFC"),ee={__name:"CH_TourView",setup(G){const C=w(),f=x(),v=g(),e=m({_id:"",CH_name:"",CH_description:"",departureLocation:"",departureTime:"",CH_included:"",CH_notIncluded:"",openTime:"",address:"",CH_note:"",image:"",price:0,CH_category:"",sell:!1}),u=n("2022/01/01"),i=n(0),H=m([t=>t>=1||"\u6578\u91CF\u932F\u8AA4"]),c=n(!1);(async()=>{try{const{data:t}=await T.get("/tours/"+C.params.id);e._id=t.result._id,e.CH_name=t.result.CH_name,e.CH_description=t.result.CH_description,e.departureLocation=t.result.departureLocation,e.departureTime=t.result.departureTime,e.CH_included=t.result.CH_included,e.CH_notIncluded=t.result.CH_notIncluded,e.openTime=t.result.openTime,e.address=t.result.address,e.CH_note=t.result.CH_note,e.image=t.result.image,e.price=t.result.price,e.CH_category=t.result.CH_category,e.sell=t.result.sell}catch{I.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})();const V=()=>{console.log(u.value),v.CH_addCart({tour:e._id,date:u.value,quantity:i.value},1)};return(t,o)=>(b(),Q("div",N,[a("div",P,[s(y,{src:"https://cdn.quasar.dev/img/parallax2.jpg"},{default:r(()=>[a("div",R,[a("h1",null,d(e.CH_name),1)])]),_:1})]),a("div",j,[a("div",M,[a("h1",null,d(e.CH_name),1),a("span",null,d(e.CH_description),1)]),a("div",A,[s(D,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=l=>c.value=l),onSubmit:h(V,["prevent"])},{default:r(()=>[s(p,{filled:"",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=l=>u.value=l),mask:"date",rules:["date"]},{append:r(()=>[s(S,{name:"event",class:"cursor-pointer"},{default:r(()=>[s(k,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(B,{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=l=>u.value=l)},{default:r(()=>[a("div",E,[U(s(_,{label:"Close",color:"primary",flat:""},null,512),[[L]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(p,{filled:"",modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=l=>i.value=l),modelModifiers:{number:!0},type:"number",label:"\u7968\u6578",rules:H},null,8,["modelValue","rules"]),s(_,{color:"secondary",type:"submit"},{default:r(()=>[F]),_:1})]),_:1},8,["modelValue","onSubmit"])])])]))}};export{ee as default};
