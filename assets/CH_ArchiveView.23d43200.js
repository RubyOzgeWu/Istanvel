import{A as h,l as r,m as n,p as l,F as C,aZ as k,D as g,B as v,C as s,f as o,K as _,aY as i,aX as c,Q as y,aQ as w}from"./index.fa63224b.js";import{u as A,b as B,S as x}from"./user.aa2d8d72.js";const Q={class:"q-pa-md"},S=l("h3",null,"\u6211\u7684\u6536\u85CF",-1),H={class:"q-pa-md column"},V=_("\u79FB\u9664"),F={__name:"CH_ArchiveView",setup(N){const t=h([]),d=A(),u=async e=>{await d.CH_deleteArchive({post:t[e].post._id})&&t.splice(e,1)};return(async()=>{try{const{data:e}=await B.get("/users/archivePost");t.splice(0,t.length),t.push(...e.result)}catch(e){console.log(e),x.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}})(),(e,p)=>{const m=g("router-link");return r(),n("div",Q,[S,l("div",H,[(r(!0),n(C,null,k(t,(a,f)=>(r(),v(w,{bordered:"",class:"my-card col-12 row",key:a._id},{default:s(()=>[o(c,{class:"col-3"},{default:s(()=>[o(m,{to:"/post/"+a.post._id},{default:s(()=>[_(i(a.post.CH_title),1)]),_:2},1032,["to"])]),_:2},1024),o(c,{class:"col-8"},{default:s(()=>[l("p",null,i(a.post.CH_content),1)]),_:2},1024),o(c,{class:"col-1"},{default:s(()=>[o(y,{color:"secondary",onClick:q=>u(f)},{default:s(()=>[V]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))])])}}};export{F as default};
