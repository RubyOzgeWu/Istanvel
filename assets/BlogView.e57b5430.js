import{Q as c}from"./QImg.f29cc9a1.js";import{C as f,E as h,k as g,l as v,n as r,f as e,H as s,aS as x,b2 as b,aT as Q,aU as C,aV as S,I as k,a$ as o,b0 as l,O as n,M as w,Q as B}from"./index.3e3ab963.js";import{_ as V}from"./galata.f13a7167.js";const y={class:"q-pa-md",id:"BlogView"},q={class:"banner"},D=r("div",{class:"absolute-full text-subtitle2 flex column flex-center"},null,-1),I={class:"q-pa-md"},N={class:"text-h3 title"},H={__name:"BlogView",setup(E){const d=b(),u=Q(),_=f(),t=h({_id:"",title:"",author:"",content:"",date:"",image:"",sell:!1});(async()=>{try{const{data:a}=await C.get("/posts/"+d.params.id);t._id=a.result._id,t.title=a.result.title,t.author=a.result.author,t.content=a.result.content,t.date=new Date(a.result.date).toLocaleDateString(),t.image=a.result.image,t.sell=a.result.sell}catch{S.fire({icon:"error",title:"failed",text:"failed to load the post"}),u.go(-1)}})();const m=()=>{_.addArchive({post:t._id})};return(a,i)=>{const p=k("q-card-action");return g(),v("div",y,[r("div",q,[e(c,{src:V,position:"50% 50%"},{default:s(()=>[D]),_:1})]),r("div",I,[e(x,{flat:"",bordered:"",class:"my-card"},{default:s(()=>[e(o,null,{default:s(()=>[r("div",N,l(t.title),1)]),_:1}),e(o,{class:"q-pt-none author"},{default:s(()=>[n(l(t.author),1)]),_:1}),e(o,{class:"date"},{default:s(()=>[n(l(t.date),1)]),_:1}),e(w,{inset:""}),e(o,{class:"image"},{default:s(()=>[e(c,{src:t.image,class:"postImg"},null,8,["src"])]),_:1}),e(o,{class:"content"},{default:s(()=>[n(l(t.content),1)]),_:1}),e(p,null,{default:s(()=>[e(B,{color:"secondary",icon:"bookmark",onClick:i[0]||(i[0]=T=>m()),class:"button"})]),_:1})]),_:1})])])}}};export{H as default};
