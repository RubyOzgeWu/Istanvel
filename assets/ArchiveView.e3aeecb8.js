import{E as g,C,k as o,l as p,n as i,F as w,b1 as A,bd as V,aV as b,I as $,G as r,H as t,f as c,O as d,b0 as m,a$ as l,J as n,Q as h,aS as q}from"./index.9bc2ee3b.js";const B={class:"q-pa-md",id:"ArchiveView"},S=i("h2",{class:"archiveTitle"},"My Archive",-1),N={class:"q-pa-md column archive"},Q=d("remove"),x=d("remove"),D={__name:"ArchiveView",setup(E){const s=g([]),f=C(),u=async e=>{await f.deleteArchive({post:s[e].post._id})&&s.splice(e,1)};return(async()=>{try{const{data:e}=await V.get("/users/archivePost");s.splice(0,s.length),s.push(...e.result)}catch(e){console.log(e),b.fire({icon:"error",title:"failed",text:e.isAxiosError?e.response.data.message:e.message})}})(),(e,k)=>{const v=$("router-link");return o(),p("div",B,[S,i("div",N,[(o(!0),p(w,null,A(s,(a,_)=>(o(),r(q,{bordered:"",class:"my-card col-12 row",key:a._id},{default:t(()=>[c(l,{class:"col-6"},{default:t(()=>[c(v,{to:"/post/"+a.post._id},{default:t(()=>[d(m(a.post.title),1)]),_:2},1032,["to"])]),_:2},1024),e.$q.screen.gt.xs?(o(),r(l,{key:0,class:"col-2"},{default:t(()=>[i("p",null,m(a.post.category),1)]),_:2},1024)):n("",!0),e.$q.screen.gt.xs?(o(),r(l,{key:1,class:"col-4 button"},{default:t(()=>[c(h,{color:"secondary",onClick:y=>u(_)},{default:t(()=>[Q]),_:2},1032,["onClick"])]),_:2},1024)):n("",!0),e.$q.screen.lt.sm?(o(),r(l,{key:2,class:"col-6 button"},{default:t(()=>[c(h,{color:"secondary",onClick:y=>u(_)},{default:t(()=>[x]),_:2},1032,["onClick"])]),_:2},1024)):n("",!0)]),_:2},1024))),128))])])}}};export{D as default};
