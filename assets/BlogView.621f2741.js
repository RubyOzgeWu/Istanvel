import{Q as c}from"./QImg.d85144a0.js";import{y as f,A as h,k as g,l as v,n as r,f as e,C as a,aS as x,b2 as b,aT as Q,aU as C,aV as k,D as w,a$ as o,b0 as l,K as n,I as y,Q as B}from"./index.1af9d501.js";import{_ as S}from"./galata.f13a7167.js";const V={class:"q-pa-md",id:"BlogView"},q={class:"banner"},D=r("div",{class:"absolute-full text-subtitle2 flex column flex-center"},null,-1),I={class:"q-pa-md"},N={class:"text-h3 title"},K={__name:"BlogView",setup(A){const d=b(),u=Q(),_=f(),t=h({_id:"",title:"",author:"",content:"",date:"",image:"",sell:!1});(async()=>{try{const{data:s}=await C.get("/posts/"+d.params.id);t._id=s.result._id,t.title=s.result.title,t.author=s.result.author,t.content=s.result.content,t.date=new Date(s.result.date),t.image=s.result.image,t.sell=s.result.sell}catch{k.fire({icon:"error",title:"failed",text:"failed to load the post"}),u.go(-1)}})();const m=()=>{_.addArchive({post:t._id})};return(s,i)=>{const p=w("q-card-action");return g(),v("div",V,[r("div",q,[e(c,{src:S,position:"50% 50%"},{default:a(()=>[D]),_:1})]),r("div",I,[e(x,{flat:"",bordered:"",class:"my-card"},{default:a(()=>[e(o,null,{default:a(()=>[r("div",N,l(t.title),1)]),_:1}),e(o,{class:"q-pt-none author"},{default:a(()=>[n(l(t.author),1)]),_:1}),e(o,{class:"date"},{default:a(()=>[n(l(t.date),1)]),_:1}),e(y,{inset:""}),e(o,{class:"image"},{default:a(()=>[e(c,{src:t.image,class:"postImg"},null,8,["src"])]),_:1}),e(o,{class:"content"},{default:a(()=>[n(l(t.content),1)]),_:1}),e(p,null,{default:a(()=>[e(B,{color:"secondary",icon:"bookmark",onClick:i[0]||(i[0]=T=>m()),class:"button"})]),_:1})]),_:1})])])}}};export{K as default};
