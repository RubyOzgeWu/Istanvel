import{Q as m}from"./QImg.35a1244a.js";import{C as y,E as p,r as d,k as x,l as T,n as e,f as s,H as n,b0 as r,aW as w,b2 as Q,aT as k,aU as I,aV as C,aX as _,K as U,N as D,Q as f,O as L}from"./index.11fd6517.js";import{Q as N,a as S}from"./QPopupProxy.de0e61d6.js";import{Q as q}from"./QForm.bebefe84.js";import{C as B}from"./ClosePopup.d5ffe5c0.js";import"./use-cache.b0833c75.js";import"./QMenu.c74a33be.js";import"./selection.70e98c8c.js";const P={class:"q-pa-md",id:"TourView"},R={class:"banner"},E={class:"absolute-full text-subtitle2 flex column flex-center"},M={class:"text-center"},O={class:"background"},j={class:"row content"},A={class:"col-sm-8 col-xs-12 info"},F={class:"title"},H={class:"description"},K={class:"text-white table"},W=e("thead",null,[e("th"),e("th")],-1),X=e("td",null,[e("p",null,"Included")],-1),z=e("td",null,[e("p",null,"Departure Time")],-1),G=e("td",null,[e("p",null,"Departure Location")],-1),J=e("td",null,[e("p",null,"Note")],-1),Y={class:"col-sm-4 col-xs-12 order"},Z=e("h4",null,"Package Options",-1),$={class:"row items-center justify-end"},ee=L("add to the cart"),ce={__name:"TourView",setup(te){const h=Q(),v=k(),b=y(),t=p({_id:"",name:"123",description:"",departureLocation:"",departureTime:"",included:"",notIncluded:"",openTime:"",address:"",note:"",image:"",price:0,category:"",sell:!1}),i=d("2022/01/01"),u=d(0),V=p([l=>l>=1||"At least one ticket"]),c=d(!1);(async()=>{try{const{data:l}=await I.get("/tours/"+h.params.id);t._id=l.result._id,t.name=l.result.name,t.description=l.result.description,t.departureLocation=l.result.departureLocation,t.departureTime=l.result.departureTime,t.included=l.result.included,t.notIncluded=l.result.notIncluded,t.openTime=l.result.openTime,t.address=l.result.address,t.note=l.result.note,t.image=l.result.image,t.price=l.result.price,t.category=l.result.category,t.sell=l.result.sell}catch{C.fire({icon:"error",title:"failed",text:"failed to get the tour info."}),v.go(-1)}})();const g=()=>{b.addCart({tour:t._id,date:i.value,quantity:u.value},1)};return(l,o)=>(x(),T("div",P,[e("div",R,[s(m,{src:t.image},{default:n(()=>[e("div",E,[e("h2",M,r(t.name),1)])]),_:1},8,["src"])]),e("div",O,[e("div",j,[e("div",A,[e("p",F,r(t.name),1),e("p",H,r(t.description),1),e("table",K,[W,e("tbody",null,[e("tr",null,[X,e("td",null,[e("p",null,r(t.included),1)])]),e("tr",null,[z,e("td",null,[e("p",null,r(t.departureTime),1)])]),e("tr",null,[G,e("td",null,[e("p",null,r(t.departureLocation),1)])]),e("tr",null,[J,e("td",null,[e("p",null,r(t.note),1)])])])]),s(m,{src:t.image,class:"image"},null,8,["src"])]),e("div",Y,[Z,s(q,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=a=>c.value=a),onSubmit:w(g,["prevent"])},{default:n(()=>[s(_,{filled:"",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),mask:"date",rules:["date"]},{append:n(()=>[s(U,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(N,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[s(S,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a)},{default:n(()=>[e("div",$,[D(s(f,{label:"Close",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(_,{filled:"",modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value=a),modelModifiers:{number:!0},type:"number",label:"number of ticket",rules:V},null,8,["modelValue","rules"]),s(f,{color:"secondary",type:"submit",class:"submit"},{default:n(()=>[ee]),_:1})]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{ce as default};
