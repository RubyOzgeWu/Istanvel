import{Q as p}from"./QImg.7433367a.js";import{A as m,r as d,l as y,m as T,p as e,f as s,C as r,aY as n,aS as w,a_ as Q,aR as x,aT as _,G as k,J as I,Q as f,K as S}from"./index.049d7952.js";import{Q as C,a as D}from"./QPopupProxy.0c78237f.js";import{Q as L}from"./QForm.b7e384b2.js";import{C as P}from"./ClosePopup.62ea1737.js";import{u as U,a as q,S as B}from"./user.ae2e6362.js";import"./use-cache.b0833c75.js";import"./QMenu.6bce5f88.js";import"./selection.c5927061.js";var N="assets/Topkapi-Palace-3.d9e8e1be.jpg";const R={class:"q-pa-md",id:"TourView"},j={class:"banner"},A={class:"absolute-full text-subtitle2 flex column flex-center"},M={class:"background"},E={class:"row content"},F={class:"col-8 info"},G={class:"title"},J={class:"description"},K={class:"text-white table"},O=e("thead",null,[e("th"),e("th")],-1),Y=e("td",null,[e("p",null,"Included")],-1),z=e("td",null,[e("p",null,"Departure Time")],-1),H=e("td",null,[e("p",null,"Departure Location")],-1),W=e("td",null,[e("p",null,"Note")],-1),X={class:"col-4 order"},Z=e("h4",null,"Package Options",-1),$={class:"row items-center justify-end"},ee=S("add to the cart"),pe={__name:"TourView",setup(te){const h=Q(),v=x(),b=U(),t=m({_id:"",name:"123",description:"",departureLocation:"",departureTime:"",included:"",notIncluded:"",openTime:"",address:"",note:"",image:"",price:0,category:"",sell:!1}),i=d("2022/01/01"),u=d(0),V=m([l=>l>=1||"At least one ticket"]),c=d(!1);(async()=>{try{const{data:l}=await q.get("/tours/"+h.params.id);t._id=l.result._id,t.name=l.result.name,t.description=l.result.description,t.departureLocation=l.result.departureLocation,t.departureTime=l.result.departureTime,t.included=l.result.included,t.notIncluded=l.result.notIncluded,t.openTime=l.result.openTime,t.address=l.result.address,t.note=l.result.note,t.image=l.result.image,t.price=l.result.price,t.category=l.result.category,t.sell=l.result.sell}catch{B.fire({icon:"error",title:"failed",text:"failed to get the tour info."}),v.go(-1)}})();const g=()=>{b.addCart({tour:t._id,date:i.value,quantity:u.value},1)};return(l,o)=>(y(),T("div",R,[e("div",j,[s(p,{src:N},{default:r(()=>[e("div",A,[e("h2",null,n(t.name),1)])]),_:1})]),e("div",M,[e("div",E,[e("div",F,[e("p",G,n(t.name),1),e("p",J,n(t.description),1),e("table",K,[O,e("tbody",null,[e("tr",null,[Y,e("td",null,[e("p",null,n(t.included),1)])]),e("tr",null,[z,e("td",null,[e("p",null,n(t.departureTime),1)])]),e("tr",null,[H,e("td",null,[e("p",null,n(t.departureLocation),1)])]),e("tr",null,[W,e("td",null,[e("p",null,n(t.note),1)])])])]),s(p,{src:t.image,class:"image"},null,8,["src"])]),e("div",X,[Z,s(L,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=a=>c.value=a),onSubmit:w(g,["prevent"])},{default:r(()=>[s(_,{filled:"",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),mask:"date",rules:["date"]},{append:r(()=>[s(k,{name:"event",class:"cursor-pointer"},{default:r(()=>[s(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(D,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a)},{default:r(()=>[e("div",$,[I(s(f,{label:"Close",color:"primary",flat:""},null,512),[[P]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(_,{filled:"",modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value=a),modelModifiers:{number:!0},type:"number",label:"number of ticket",rules:V},null,8,["modelValue","rules"]),s(f,{color:"secondary",type:"submit",class:"submit"},{default:r(()=>[ee]),_:1})]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{pe as default};
