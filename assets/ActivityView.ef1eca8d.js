import{Q as m}from"./QImg.7433367a.js";import{A as p,r as u,l as y,m as S,p as a,f as s,C as r,aY as o,aS as b,a_ as D,aR as x,aT as _,G as Q,J as E,Q as f,K as k}from"./index.049d7952.js";import{Q as C,a as U}from"./QPopupProxy.0c78237f.js";import{Q as q}from"./QForm.b7e384b2.js";import{C as A}from"./ClosePopup.62ea1737.js";import{u as B,a as M,S as P}from"./user.ae2e6362.js";import"./use-cache.b0833c75.js";import"./QMenu.6bce5f88.js";import"./selection.c5927061.js";const R={class:"q-pa-md",id:"ActivityView"},F={class:"banner"},I={class:"absolute-full text-subtitle2 flex column flex-center"},N={class:"background"},Y={class:"row content"},T={class:"col-sm-8 col-xs-12 info"},j={class:"title"},G={class:"date"},J={class:"description"},K={class:"col-sm-4 col-xs-12 order"},O=a("h4",null,"Package Options",-1),z={class:"row items-center justify-end"},H=k("add to the cart"),ie={__name:"ActivityView",setup(L){const v=D(),g=x(),h=B(),e=p({_id:"",name:"123",description:"",location:"",dateStart:"",dateEnd:"",timeStart:"",timeEnd:"",image:"",price:0,sell:!1}),n=u("2022/01/01"),d=u(0),V=p([t=>t>=1||"At least one ticket"]),c=u(!1);(async()=>{try{const{data:t}=await M.get("/activities/"+v.params.id);e._id=t.result._id,e.name=t.result.name,e.description=t.result.description,e.location=t.result.location,e.dateStart=t.result.dateStart,e.dateEnd=t.result.dateEnd,e.timeStart=t.result.timeStart,e.timeEnd=t.result.timeEnd,e.image=t.result.image,e.price=t.result.price,e.sell=t.result.sell}catch{P.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),g.go(-1)}})();const w=()=>{console.log(e._id),h.addCart({activity:e._id,date:n.value,quantity:d.value},2)};return(t,l)=>(y(),S("div",R,[a("div",F,[s(m,{src:e.image},{default:r(()=>[a("div",I,[a("h2",null,o(e.name),1)])]),_:1},8,["src"])]),a("div",N,[a("div",Y,[a("div",T,[a("p",j,o(e.name),1),a("p",G,"Duration: "+o(new Date(e.dateStart).getFullYear())+"/"+o(new Date(e.dateStart).getMonth()+1)+"/"+o(new Date(e.dateStart).getDate())+"\uFF0D"+o(new Date(e.dateEnd).getFullYear())+"/"+o(new Date(e.dateEnd).getMonth()+1)+"/"+o(new Date(e.dateEnd).getDate()),1),a("p",J,o(e.description),1),s(m,{src:e.image,class:"image"},null,8,["src"])]),a("div",K,[O,s(q,{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=i=>c.value=i),onSubmit:b(w,["prevent"])},{default:r(()=>[s(_,{filled:"",modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=i=>n.value=i),mask:"date",rules:["date"]},{append:r(()=>[s(Q,{name:"event",class:"cursor-pointer"},{default:r(()=>[s(C,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(U,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=i=>n.value=i)},{default:r(()=>[a("div",z,[E(s(f,{label:"Close",color:"primary",flat:""},null,512),[[A]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(_,{filled:"",modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=i=>d.value=i),modelModifiers:{number:!0},type:"number",label:"number of ticket",rules:V},null,8,["modelValue","rules"]),s(f,{color:"secondary",type:"submit",class:"submit"},{default:r(()=>[H]),_:1})]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{ie as default};
