import{A as f,y as k,k as r,l as n,n as l,F as v,a$ as y,bc as g,aT as A,D as C,B as w,C as s,f as a,K as d,a_ as i,aZ as c,Q as B,aQ as x}from"./index.a8cc4891.js";const Q={class:"q-pa-md"},S=l("h3",null,"My Archive",-1),V={class:"q-pa-md column"},N=d("remove"),F={__name:"ArchiveView",setup(b){const t=f([]),_=k(),u=async e=>{await _.deleteArchive({post:t[e].post._id})&&t.splice(e,1)};return(async()=>{try{const{data:e}=await g.get("/users/archivePost");t.splice(0,t.length),t.push(...e.result)}catch(e){console.log(e),A.fire({icon:"error",title:"failed",text:e.isAxiosError?e.response.data.message:e.message})}})(),(e,p)=>{const m=C("router-link");return r(),n("div",Q,[S,l("div",V,[(r(!0),n(v,null,y(t,(o,h)=>(r(),w(x,{bordered:"",class:"my-card col-12 row",key:o._id},{default:s(()=>[a(c,{class:"col-3"},{default:s(()=>[a(m,{to:"/post/"+o.post._id},{default:s(()=>[d(i(o.post.title),1)]),_:2},1032,["to"])]),_:2},1024),a(c,{class:"col-8"},{default:s(()=>[l("p",null,i(o.post.content),1)]),_:2},1024),a(c,{class:"col-1"},{default:s(()=>[a(B,{color:"secondary",onClick:D=>u(h)},{default:s(()=>[N]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))])])}}};export{F as default};
