import{Q as c}from"./QImg.7433367a.js";import{A as f,l as h,m as g,p as r,f as e,C as s,aQ as v,a_ as x,aR as Q,D as C,aX as o,aY as l,K as i,I as b,Q as w}from"./index.049d7952.js";import{_ as B}from"./galata.f13a7167.js";import{u as S,a as k,S as y}from"./user.ae2e6362.js";const V={class:"q-pa-md",id:"BlogView"},q={class:"banner"},D=r("div",{class:"absolute-full text-subtitle2 flex column flex-center"},null,-1),I={class:"q-pa-md"},N={class:"text-h3 title"},Y={__name:"BlogView",setup(R){const d=x(),u=Q(),_=S(),t=f({_id:"",title:"",author:"",content:"",date:"",image:"",sell:!1});(async()=>{try{const{data:a}=await k.get("/posts/"+d.params.id);t._id=a.result._id,t.title=a.result.title,t.author=a.result.author,t.content=a.result.content,t.date=new Date(a.result.date),t.image=a.result.image,t.sell=a.result.sell}catch{y.fire({icon:"error",title:"failed",text:"failed to load the post"}),u.go(-1)}})();const m=()=>{_.addArchive({post:t._id})};return(a,n)=>{const p=C("q-card-action");return h(),g("div",V,[r("div",q,[e(c,{src:B,position:"50% 50%"},{default:s(()=>[D]),_:1})]),r("div",I,[e(v,{flat:"",bordered:"",class:"my-card"},{default:s(()=>[e(o,null,{default:s(()=>[r("div",N,l(t.title),1)]),_:1}),e(o,{class:"q-pt-none author"},{default:s(()=>[i(l(t.author),1)]),_:1}),e(o,{class:"date"},{default:s(()=>[i(l(t.date),1)]),_:1}),e(b,{inset:""}),e(o,{class:"image"},{default:s(()=>[e(c,{src:t.image,class:"postImg"},null,8,["src"])]),_:1}),e(o,{class:"content"},{default:s(()=>[i(l(t.content),1)]),_:1}),e(p,null,{default:s(()=>[e(w,{color:"secondary",icon:"bookmark",onClick:n[0]||(n[0]=E=>m()),class:"button"})]),_:1})]),_:1})])])}}};export{Y as default};
