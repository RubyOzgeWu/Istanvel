import{E as _,r as n,k as f,l as b,n as d,f as s,H as a,bd as m,aV as i,aX as h,K as w,Q as g,O as v}from"./index.2be97d02.js";import{Q as x}from"./QTd.1d11626c.js";import{Q as V}from"./QTable.040102f5.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./QList.1be0ec6c.js";import"./QMarkupTable.f708a3d2.js";import"./QSelect.5e4fba01.js";import"./QItem.4a9a3245.js";import"./QMenu.9e87c88c.js";import"./selection.815d1c0b.js";import"./rtl.4b414a6d.js";import"./use-fullscreen.398642a4.js";const Q={class:"q-pa-md"},k={class:"row"},E={class:"col-12"},A=v("\u522A\u9664"),B={__name:"MembersView",setup(I){const u=[{name:"account",required:!0,label:"Account",align:"left",field:e=>e.account,format:e=>`${e}`,sortable:!0},{name:"Email",align:"center",label:"Email",field:e=>e.email,sortable:!0},{name:"deleteUser",label:"\u522A\u9664",align:"right",sortable:!0}],r=_([]);n([]);const o=n(""),c=async()=>{try{const{data:e}=await m.get("/users/all");r.splice(0,r.length),r.push(...e.result)}catch(e){console.log(e),i.fire({icon:"error",title:"\u5931\u6557",text:e.isAxiosError?e.response.data.message:e.message})}};c();const p=async e=>{console.log(e);try{await m.delete("/users/"+e),await i.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),c()}catch(t){await i.fire({icon:"success",title:"\u5931\u6557",text:t.isAxiosError&&t.response.data?t.response.data.message:"\u767C\u751F\u932F\u8AA4"})}};return(e,t)=>(f(),b("div",Q,[d("div",k,[d("div",E,[s(V,{title:"\u6703\u54E1\u7BA1\u7406",rows:r,columns:u,"row-key":"account",filter:o.value,"hide-header":""},{"top-right":a(()=>[s(h,{borderless:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=l=>o.value=l),placeholder:"Search"},{append:a(()=>[s(w,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-deleteUser":a(l=>[s(x,{class:"row button"},{default:a(()=>[s(g,{onClick:C=>p(l.row._id),style:{background:"#A10D48"},class:"text-white"},{default:a(()=>[A]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["rows","filter"])])])]))}};var j=y(B,[["__scopeId","data-v-789105bb"]]);export{j as default};
