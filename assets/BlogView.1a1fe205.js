import{Q as m}from"./QImg.7d7e8fac.js";import{A as h,l as v,m as g,p as r,f as e,C as s,aQ as x,a_ as Q,aR as C,D as S,aX as o,aY as l,K as n,I as c,Q as w}from"./index.2dd91d1a.js";import{u as B,a as b,S as k}from"./user.0f3afc9a.js";const q={class:"q-pa-md",id:"CH_BlogView"},y={class:"banner"},V=r("div",{class:"absolute-full text-subtitle2 flex column flex-center"},null,-1),D={class:"q-pa-md"},N={class:"text-h2"},K={__name:"BlogView",setup(R){const d=Q(),u=C(),_=B(),t=h({_id:"",title:"",author:"",content:"",date:"",image:"",sell:!1});(async()=>{try{const{data:a}=await b.get("/posts/"+d.params.id);t._id=a.result._id,t.title=a.result.title,t.author=a.result.author,t.content=a.result.content,t.date=new Date(a.result.date).toLocaleString(),t.sell=a.result.sell}catch{k.fire({icon:"error",title:"failed",text:"failed to load the post"}),u.go(-1)}})();const p=()=>{_.addArchive({post:t._id})};return(a,i)=>{const f=S("q-card-action");return v(),g("div",q,[r("div",y,[e(m,{src:"https://cdn.quasar.dev/img/parallax2.jpg"},{default:s(()=>[V]),_:1})]),r("div",D,[e(x,{flat:"",bordered:"",class:"my-card"},{default:s(()=>[e(o,null,{default:s(()=>[r("div",N,l(t.title),1)]),_:1}),e(o,{class:"q-pt-none"},{default:s(()=>[n(l(t.author),1)]),_:1}),e(c,{inset:""}),e(o,null,{default:s(()=>[n(l(t.content),1)]),_:1}),e(c,{inset:""}),e(o,null,{default:s(()=>[n(l(t.date),1)]),_:1}),e(f,null,{default:s(()=>[e(w,{color:"secondary",icon:"bookmark",onClick:i[0]||(i[0]=I=>p())})]),_:1})]),_:1})])])}}};export{K as default};
