import{Q as m}from"./QImg.5db0995d.js";import{C as w,E as p,r as c,k as y,l as S,n as a,f as s,H as r,b0 as o,aW as x,b2 as D,aT as E,aU as Q,aV as k,aX as _,K as C,N as U,Q as f,O as q}from"./index.2be97d02.js";import{Q as B,a as M}from"./QPopupProxy.16a7e703.js";import{Q as N}from"./QForm.23ee760b.js";import{C as P}from"./ClosePopup.d70e8ffa.js";import"./use-cache.b0833c75.js";import"./QMenu.9e87c88c.js";import"./selection.815d1c0b.js";const A={class:"q-pa-md",id:"ActivityView"},F={class:"banner"},I={class:"absolute-full text-subtitle2 flex column flex-center"},R={class:"text-center"},T={class:"background"},O={class:"row content"},Y={class:"col-sm-8 col-xs-12 info"},j={class:"title"},H={class:"date"},K={class:"description"},W={class:"col-sm-4 col-xs-12 order"},X=a("h4",null,"Package Options",-1),$={class:"row items-center justify-end"},z={class:"total"},G=q("add to the cart"),rt={__name:"ActivityView",setup(J){const v=D(),g=E(),h=w(),t=p({_id:"",name:"",description:"",location:"",dateStart:"",dateEnd:"",timeStart:"",timeEnd:"",image:"",price:0,sell:!1}),n=c("2022/01/01"),d=c(0),V=p([e=>e>=1||"At least one ticket"]),u=c(!1);(async()=>{try{const{data:e}=await Q.get("/activities/"+v.params.id);t._id=e.result._id,t.name=e.result.name,t.description=e.result.description,t.location=e.result.location,t.dateStart=e.result.dateStart,t.dateEnd=e.result.dateEnd,t.timeStart=e.result.timeStart,t.timeEnd=e.result.timeEnd,t.image=e.result.image,t.price=e.result.price,t.sell=e.result.sell}catch{k.fire({icon:"error",title:"failed",text:"failed to get activities"}),g.go(-1)}})();const b=()=>{console.log(t._id),h.addCart({activity:t._id,date:n.value,quantity:d.value},2)};return(e,l)=>(y(),S("div",A,[a("div",F,[s(m,{src:t.image},{default:r(()=>[a("div",I,[a("h2",R,o(t.name),1)])]),_:1},8,["src"])]),a("div",T,[a("div",O,[a("div",Y,[a("p",j,o(t.name),1),a("p",H,"Duration: "+o(new Date(t.dateStart).getFullYear())+"/"+o(new Date(t.dateStart).getMonth()+1)+"/"+o(new Date(t.dateStart).getDate())+"\uFF0D"+o(new Date(t.dateEnd).getFullYear())+"/"+o(new Date(t.dateEnd).getMonth()+1)+"/"+o(new Date(t.dateEnd).getDate()),1),a("p",K,o(t.description),1),s(m,{src:t.image,class:"image"},null,8,["src"])]),a("div",W,[X,s(N,{modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=i=>u.value=i),onSubmit:x(b,["prevent"])},{default:r(()=>[s(_,{filled:"",modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=i=>n.value=i),mask:"date",rules:["date"]},{append:r(()=>[s(C,{name:"event",class:"cursor-pointer"},{default:r(()=>[s(B,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:r(()=>[s(M,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=i=>n.value=i)},{default:r(()=>[a("div",$,[U(s(f,{label:"Close",color:"primary",flat:""},null,512),[[P]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(_,{filled:"",modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=i=>d.value=i),modelModifiers:{number:!0},type:"number",label:"number of ticket",rules:V},null,8,["modelValue","rules"]),a("p",z,"Total $ "+o(t.price*d.value),1),s(f,{color:"secondary",type:"submit",class:"submit"},{default:r(()=>[G]),_:1})]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{rt as default};
