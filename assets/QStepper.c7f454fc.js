import{x as q,Z as k,h as o,ah as N,r as x,c as u,G as Q,J as $,R as A,g as y,i as B,aN as E,L as C,bv as I,M as L,O as D,ap as K,as as H,aA as j}from"./index.b7f7735e.js";import{u as R,a as W,b as F,c as O}from"./use-panel.43259367.js";import{u as U}from"./use-cache.b0833c75.js";var V=q({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:i,emit:d}){let l=!1,a,c,g,v,s,h;function p(){a&&a(),a=null,l=!1,clearTimeout(g),clearTimeout(v),c!==void 0&&c.removeEventListener("transitionend",s),s=null}function f(n,t,r){n.style.overflowY="hidden",t!==void 0&&(n.style.height=`${t}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,l=!0,a=r}function _(n,t){n.style.overflowY=null,n.style.height=null,n.style.transition=null,p(),t!==h&&d(t)}function b(n,t){let r=0;c=n,l===!0?(p(),r=n.offsetHeight===n.scrollHeight?0:void 0):h="hide",f(n,r,t),g=setTimeout(()=>{n.style.height=`${n.scrollHeight}px`,s=m=>{(Object(m)!==m||m.target===n)&&_(n,"show")},n.addEventListener("transitionend",s),v=setTimeout(s,e.duration*1.1)},100)}function S(n,t){let r;c=n,l===!0?p():(h="show",r=n.scrollHeight),f(n,r,t),g=setTimeout(()=>{n.style.height=0,s=m=>{(Object(m)!==m||m.target===n)&&_(n,"hide")},n.addEventListener("transitionend",s),v=setTimeout(s,e.duration*1.1)},100)}return k(()=>{l===!0&&p()}),()=>o(N,{css:!1,appear:e.appear,onEnter:b,onLeave:S},i.default)}}),w=q({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:i}){const{proxy:{$q:d}}=y(),l=x(null),a=u(()=>e.stepper.modelValue===e.step.name),c=u(()=>{const t=e.step.disable;return t===!0||t===""}),g=u(()=>{const t=e.step.error;return t===!0||t===""}),v=u(()=>{const t=e.step.done;return c.value===!1&&(t===!0||t==="")}),s=u(()=>{const t=e.step.headerNav,r=t===!0||t===""||t===void 0;return c.value===!1&&e.stepper.headerNav&&r}),h=u(()=>e.step.prefix&&(a.value===!1||e.stepper.activeIcon==="none")&&(g.value===!1||e.stepper.errorIcon==="none")&&(v.value===!1||e.stepper.doneIcon==="none")),p=u(()=>{const t=e.step.icon||e.stepper.inactiveIcon;if(a.value===!0){const r=e.step.activeIcon||e.stepper.activeIcon;return r==="none"?t:r||d.iconSet.stepper.active}if(g.value===!0){const r=e.step.errorIcon||e.stepper.errorIcon;return r==="none"?t:r||d.iconSet.stepper.error}if(c.value===!1&&v.value===!0){const r=e.step.doneIcon||e.stepper.doneIcon;return r==="none"?t:r||d.iconSet.stepper.done}return t}),f=u(()=>{const t=g.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(a.value===!0){const r=e.step.activeColor||e.stepper.activeColor||e.step.color;return r!==void 0?r:t}return t!==void 0?t:c.value===!1&&v.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),_=u(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(f.value!==void 0?` text-${f.value}`:"")+(g.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(h.value===!0?"prefix":"icon"):"")+(a.value===!0?" q-stepper__tab--active":"")+(v.value===!0?" q-stepper__tab--done":"")+(s.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(c.value===!0?" q-stepper__tab--disabled":"")),b=u(()=>e.stepper.headerNav!==!0?!1:s.value);function S(){l.value!==null&&l.value.focus(),a.value===!1&&e.goToPanel(e.step.name)}function n(t){t.keyCode===13&&a.value===!1&&e.goToPanel(e.step.name)}return()=>{const t={class:_.value};s.value===!0&&(t.onClick=S,t.onKeyup=n,Object.assign(t,c.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:i.tabindex||0}));const r=[o("div",{class:"q-focus-helper",tabindex:-1,ref:l}),o("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[o("span",{class:"row flex-center"},[h.value===!0?e.step.prefix:o(Q,{name:p.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const m=[o("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&m.push(o("div",{class:"q-stepper__caption"},e.step.caption)),r.push(o("div",{class:"q-stepper__label q-stepper__line relative-position"},m))}return $(o("div",t,r),[[A,b.value]])}}});function T(e){return o("div",{class:"q-stepper__step-content"},[o("div",{class:"q-stepper__step-inner"},C(e.default))])}const P={setup(e,{slots:i}){return()=>T(i)}};var Z=q({name:"QStep",props:{...R,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},setup(e,{attrs:i,slots:d}){const{proxy:{$q:l}}=y(),a=B(I,()=>{console.error("QStep needs to be child of QStepper")}),{getCacheWithFn:c}=U(),g=x(null),v=u(()=>a.value.modelValue===e.name),s=u(()=>l.platform.is.ios!==!0&&l.platform.is.chrome===!0||v.value!==!0||a.value.vertical!==!0?{}:{onScroll(f){const{target:_}=f;_.scrollTop>0&&(_.scrollTop=0),i.onScroll!==void 0&&i.onScroll(f)}}),h=u(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function p(){const f=a.value.vertical;return f===!0&&a.value.keepAlive===!0?o(E,a.value.keepAliveProps.value,v.value===!0?[o(a.value.needsUniqueKeepAliveWrapper.value===!0?c(h.value,()=>({...P,name:h.value})):P,{key:h.value},d.default)]:void 0):f!==!0||v.value===!0?T(d):void 0}return()=>o("div",{ref:g,class:"q-stepper__step",...s.value},a.value.vertical===!0?[o(w,{stepper:a.value,step:e,goToPanel:a.value.goToPanel}),a.value.animated===!0?o(V,p):p()]:[p()])}}),X=q({name:"QStepperNavigation",setup(e,{slots:i}){return()=>o("div",{class:"q-stepper__nav"},C(i.default))}});const z=/(-\w)/g;function M(e){const i={};for(const d in e){const l=d.replace(z,a=>a[1].toUpperCase());i[l]=e[d]}return i}var ee=q({name:"QStepper",props:{...L,...W,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:F,setup(e,{slots:i}){const d=y(),l=D(e,d.proxy.$q),{updatePanelsList:a,isValidPanelName:c,updatePanelIndex:g,getPanelContent:v,getPanels:s,panelDirectives:h,goToPanel:p,keepAliveProps:f,needsUniqueKeepAliveWrapper:_}=O();K(I,u(()=>({goToPanel:p,keepAliveProps:f,needsUniqueKeepAliveWrapper:_,...e})));const b=u(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0||l.value===!0?" q-stepper--flat no-shadow":"")+(e.bordered===!0||l.value===!0&&e.flat===!1?" q-stepper--bordered":"")+(l.value===!0?" q-stepper--dark q-dark":"")),S=u(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function n(){const t=C(i.message,[]);if(e.vertical===!0){c(e.modelValue)&&g();const r=o("div",{class:"q-stepper__content"},C(i.default));return t===void 0?[r]:t.concat(r)}return[o("div",{class:S.value},s().map(r=>{const m=M(r.props);return o(w,{key:m.name,stepper:e,step:m,goToPanel:p})})),t,j("div",{class:"q-stepper__content q-panel-parent"},v(),"cont",e.swipeable,()=>h.value)]}return()=>(a(i),o("div",{class:b.value},H(i.navigation,n())))}});export{ee as Q,X as a,Z as b};
