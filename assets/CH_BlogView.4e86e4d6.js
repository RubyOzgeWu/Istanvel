import{Q as f}from"./QImg.c1164aed.js";import{A as m,l as H,m as h,p as r,f as e,C as s,aQ as v,a_ as g,aR as x,D as Q,aX as o,aY as l,K as n,I as c,Q as S}from"./index.ba8e8a10.js";import{u as w,a as B,S as b}from"./user.63492ea5.js";const k={class:"q-pa-md",id:"CH_BlogView"},q={class:"banner"},y=r("div",{class:"absolute-full text-subtitle2 flex column flex-center"},null,-1),V={class:"q-pa-md"},D={class:"text-h2"},K={__name:"CH_BlogView",setup(N){const d=g(),_=x(),u=w(),t=m({_id:"",CH_title:"",CH_author:"",CH_content:"",date:"",image:"",sell:!1});(async()=>{try{const{data:a}=await B.get("/posts/"+d.params.id);t._id=a.result._id,t.CH_title=a.result.CH_title,t.CH_author=a.result.CH_author,t.CH_content=a.result.CH_content,t.date=new Date(a.result.date).toLocaleString(),t.sell=a.result.sell}catch{b.fire({icon:"error",title:"failed",text:"failed to load the post"}),_.go(-1)}})();const p=()=>{u.CH_addArchive({post:t._id})};return(a,i)=>{const C=Q("q-card-action");return H(),h("div",k,[r("div",q,[e(f,{src:"https://cdn.quasar.dev/img/parallax2.jpg"},{default:s(()=>[y]),_:1})]),r("div",V,[e(v,{flat:"",bordered:"",class:"my-card"},{default:s(()=>[e(o,null,{default:s(()=>[r("div",D,l(t.CH_title),1)]),_:1}),e(o,{class:"q-pt-none"},{default:s(()=>[n("\u4F5C\u8005\uFF1A"+l(t.CH_author),1)]),_:1}),e(c,{inset:""}),e(o,null,{default:s(()=>[n(l(t.CH_content),1)]),_:1}),e(c,{inset:""}),e(o,null,{default:s(()=>[n(l(t.date),1)]),_:1}),e(C,null,{default:s(()=>[e(S,{color:"secondary",icon:"bookmark",onClick:i[0]||(i[0]=A=>p())})]),_:1})]),_:1})])])}}};export{K as default};
