import{Q as p}from"./QImg.6ad42e2f.js";import{y as g,A as m,r as d,k as T,l as w,n as e,f as s,C as n,a_ as r,aU as Q,b1 as x,aR as k,aS as I,aT as C,aV as _,G as S,J as U,Q as f,K as D}from"./index.a8cc4891.js";import{Q as L,a as P}from"./QPopupProxy.4519e654.js";import{Q as q}from"./QForm.028c178d.js";import{C as B}from"./ClosePopup.cabadc2a.js";import"./use-cache.b0833c75.js";import"./QMenu.15a86a7d.js";import"./selection.4c00b57a.js";var N="assets/Topkapi-Palace-3.d9e8e1be.jpg";const R={class:"q-pa-md",id:"TourView"},j={class:"banner"},A={class:"absolute-full text-subtitle2 flex column flex-center"},M={class:"background"},E={class:"row content"},F={class:"col-8 info"},G={class:"title"},J={class:"description"},K={class:"text-white table"},O=e("thead",null,[e("th"),e("th")],-1),z=e("td",null,[e("p",null,"Included")],-1),H=e("td",null,[e("p",null,"Departure Time")],-1),W=e("td",null,[e("p",null,"Departure Location")],-1),X=e("td",null,[e("p",null,"Note")],-1),Y={class:"col-4 order"},Z=e("h4",null,"Package Options",-1),$={class:"row items-center justify-end"},ee=D("add to the cart"),ce={__name:"TourView",setup(te){const h=x(),v=k(),b=g(),t=m({_id:"",name:"123",description:"",departureLocation:"",departureTime:"",included:"",notIncluded:"",openTime:"",address:"",note:"",image:"",price:0,category:"",sell:!1}),i=d("2022/01/01"),u=d(0),V=m([l=>l>=1||"At least one ticket"]),c=d(!1);(async()=>{try{const{data:l}=await I.get("/tours/"+h.params.id);t._id=l.result._id,t.name=l.result.name,t.description=l.result.description,t.departureLocation=l.result.departureLocation,t.departureTime=l.result.departureTime,t.included=l.result.included,t.notIncluded=l.result.notIncluded,t.openTime=l.result.openTime,t.address=l.result.address,t.note=l.result.note,t.image=l.result.image,t.price=l.result.price,t.category=l.result.category,t.sell=l.result.sell}catch{C.fire({icon:"error",title:"failed",text:"failed to get the tour info."}),v.go(-1)}})();const y=()=>{b.addCart({tour:t._id,date:i.value,quantity:u.value},1)};return(l,o)=>(T(),w("div",R,[e("div",j,[s(p,{src:N},{default:n(()=>[e("div",A,[e("h2",null,r(t.name),1)])]),_:1})]),e("div",M,[e("div",E,[e("div",F,[e("p",G,r(t.name),1),e("p",J,r(t.description),1),e("table",K,[O,e("tbody",null,[e("tr",null,[z,e("td",null,[e("p",null,r(t.included),1)])]),e("tr",null,[H,e("td",null,[e("p",null,r(t.departureTime),1)])]),e("tr",null,[W,e("td",null,[e("p",null,r(t.departureLocation),1)])]),e("tr",null,[X,e("td",null,[e("p",null,r(t.note),1)])])])]),s(p,{src:t.image,class:"image"},null,8,["src"])]),e("div",Y,[Z,s(q,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=a=>c.value=a),onSubmit:Q(y,["prevent"])},{default:n(()=>[s(_,{filled:"",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),mask:"date",rules:["date"]},{append:n(()=>[s(S,{name:"event",class:"cursor-pointer"},{default:n(()=>[s(L,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:n(()=>[s(P,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a)},{default:n(()=>[e("div",$,[U(s(f,{label:"Close",color:"primary",flat:""},null,512),[[B]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(_,{filled:"",modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value=a),modelModifiers:{number:!0},type:"number",label:"number of ticket",rules:V},null,8,["modelValue","rules"]),s(f,{color:"secondary",type:"submit",class:"submit"},{default:n(()=>[ee]),_:1})]),_:1},8,["modelValue","onSubmit"])])])])]))}};export{ce as default};
